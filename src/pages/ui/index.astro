---
import Author from '@shared/ui/author/Author.astro'
import Breadcrumbs from '@shared/ui/breadcrumbs/Breadcrumbs.astro'
import Button from '@shared/ui/buttons/button/Button.astro'
import Checkbox from '@shared/ui/checkbox/Checkbox.astro'
import Input from '@shared/ui/input/Input.astro'
import Switch from '@shared/ui/switch/Switch.astro'
import Textarea from '@shared/ui/textarea/Textarea.astro'
import Layout from '@widgets/layout/Layout.astro'
import Select from '@shared/ui/select/select.astro'
---

<Layout pageName="ui">
  <div class="flex flex-col gap-20">
    <h1 class="px-4 text-title-100 devices:text-title-40">Примеры UI компонентов проекта</h1>

    <div class="flex flex-col gap-16">
      <section>
        <Author />
      </section>

      <section>
        <Breadcrumbs
          list={[
            { text: 'Каталог', href: '#' },
            { text: 'Посуда', href: '#' },
            { text: 'Сковороды', href: '#' },
            { text: 'Сковорода Шеф Бернардо', href: '#' }
          ]}
        />
      </section>

      <section>
        <Button
          href="#"
          variant="text"
          >Ссылка text</Button
        >
        <Button variant="contained">Кнопка contained</Button>
        <Button
          variant="contained"
          color="light"
          >Кнопка contained light</Button
        >
        <Button variant="outlined">Кнопка outlined</Button>
      </section>

      <section>
        <Checkbox label="Checkbox" />
        <Checkbox
          name={'checkbox'}
          checked={true}
          >Checkbox с вложенной <a
            href="#"
            class="text-blue hover:text-red"
            >ссылкой</a
          ></Checkbox
        >
        <Checkbox
          label="Checkbox disabled"
          disabled
        />
      </section>

      <section class="w-1/4">
        <Switch label="Switch" />
        <Switch
          label="Switch"
          checked
        />
        <Switch
          label="Switch"
          disabled
        />
        <Switch
          label="Switch"
          checked
          disabled
        />
        <Switch>Switch без label</Switch>
      </section>

      <section>
        <Input placeholder={'Input'} />
      </section>

      <section>
        <Textarea placeholder={'Textarea'} />
      </section>
    </div>

    <div class="mb-10 border border-solid border-gray-400 p-5">
      <h2 class="mb-10 text-center text-2xl font-bold">
        Работа с select
        <br />
        <span class="text-xl font-normal">window.frontApi.select</span>
      </h2>

      <div class="overflow-x-auto">
        <table class="w-full table-auto border-collapse">
          <thead class="bg-gray-100">
            <tr>
              <th class="p-2 text-left font-semibold">Метод</th>
              <th class="p-2 text-left font-semibold">Описание</th>
              <th class="p-2 text-left font-semibold">Параметры</th>
              <th class="p-2 text-left font-semibold">Пример</th>
            </tr>
          </thead>
          <tbody>
            {/** init(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">init(selector)</td>
              <td class="p-2 text-sm">Инициализация select</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.init('#tomSelect1')"
                >
                  init("#tomSelect1")
                </button>
              </td>
            </tr>
            {/** initAll() **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">initAll()</td>
              <td class="p-2 text-sm">Инициализация всех select</td>
              <td class="p-2 text-sm">-</td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.initAll()"
                >
                  initAll()
                </button>
              </td>
            </tr>
            {/** reInit(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">reInit(selector)</td>
              <td class="p-2 text-sm">Переинициализация select</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.reInit('#tomSelect1')"
                >
                  reInit("#tomSelect1")
                </button>
              </td>
            </tr>
            {/** reInitAll() **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">reInitAll()</td>
              <td class="p-2 text-sm">Переинициализация всех select</td>
              <td class="p-2 text-sm">-</td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.reInitAll()"
                >
                  reInitAll()
                </button>
              </td>
            </tr>
            {/** destroy(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">destroy(selector)</td>
              <td class="p-2 text-sm">Уничтожение экземпляра</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.destroy('#tomSelect1')"
                >
                  destroy("#tomSelect1")
                </button>
              </td>
            </tr>
            {/** getCurrentOption(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">getCurrentOption(selector)</td>
              <td class="p-2 text-sm">Получить выбранные опции</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="console.log(window.frontApi.select.getCurrentOption('#tomSelect1'))"
                >
                  getCurrentOption("#tomSelect1")
                </button>
              </td>
            </tr>
            {/** addOption(selector, option) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">addOption(selector, option)</td>
              <td class="p-2 text-sm">Добавить новую опцию</td>
              <td class="p-2 text-sm">
                <code>Object &#123;value, label&#125;</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="const instance = window.frontApi.select.getInstance('#tomSelect1')
                    instance?.addOption({ value: '4', label: 'New 4' })
                  "
                >
                  addOption({'value: 4, label: New 4'})
                </button>
              </td>
            </tr>
            {/** removeOption(selector, value) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">removeOption(selector, value)</td>
              <td class="p-2 text-sm">Удалить опцию</td>
              <td class="p-2 text-sm">
                <code>String</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.getInstance('#tomSelect1')?.removeOption('2')"
                >
                  removeOption("2")
                </button>
              </td>
            </tr>
            {/** removeAllOptions(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">removeAllOptions(selector)</td>
              <td class="p-2 text-sm">Удалить все опции</td>
              <td class="p-2 text-sm">-</td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.removeAllOptions('#tomSelect2')"
                >
                  removeAllOptions()
                </button>
              </td>
            </tr>
            {/** resetOptions(selector, options, defaultValue) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">resetOptions(selector, options, defaultValue)</td>
              <td class="p-2 text-sm">Полная замена опций</td>
              <td class="p-2 text-sm">
                <code>Array, String</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="border-red-800 text-red-800 rounded-xl border border-solid px-2 py-1 text-xs hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.resetOptions('#tomSelect1', [{ value: 'new1', label: 'New 1' }, { value: 'new2', label: 'New 2' }], 'new1')"
                >
                  resetOptions()
                </button>
              </td>
            </tr>
            {/** getValue(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">getValue(selector)</td>
              <td class="p-2 text-sm">Получить текущее значение</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="console.log(window.frontApi.select.getValue('#tomSelect1'))"
                >
                  getValue()
                </button>
              </td>
            </tr>
            {/** setValue(selector, value) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">setValue(selector, value)</td>
              <td class="p-2 text-sm">Установить значение</td>
              <td class="p-2 text-sm">
                <code>String &#124; Array</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-blue-800 border-gray-400 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="window.frontApi.select.setValue('#tomSelect2', ['a', 'c'])"
                >
                  setValue()
                </button>
              </td>
            </tr>
            {/** isInitialized(selector) **/}
            <tr class="border-b">
              <td class="p-2 font-mono text-sm">isInit(selector)</td>
              <td class="p-2 text-sm">Проверить инициализацию</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="console.log(window.frontApi.select.isInit('#tomSelect1'))"
                >
                  isInit()
                </button>
              </td>
            </tr>
            {/** getInstance(selector) **/}
            <tr>
              <td class="p-2 font-mono text-sm">getInstance(selector)</td>
              <td class="p-2 text-sm">Получить экземпляр TomSelect</td>
              <td class="p-2 text-sm">
                <code>CSS-селектор</code>
              </td>
              <td class="p-2 text-sm">
                <button
                  class="rounded-xl border border-solid border-gray-400 border-teal-800 px-2 py-1 text-xs text-teal-800 hover:bg-teal-50 active:bg-teal-100 active:shadow-inner"
                  onclick="console.log(window.frontApi.select.getInstance('#tomSelect1'))"
                >
                  getInstance()
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="mt-10 grid grid-cols-2 gap-5">
        <Select>
          <select
            id="tomSelect1"
            class="js-tomselect w-full"
          >
            <option value="1">Option 1</option>
            <option value="2">Option 2</option>
          </select>
        </Select>

        <Select>
          <select
            id="tomSelect2"
            class="js-tomselect w-full"
            multiple
          >
            <option value="a">Multi A</option>
            <option value="b">Multi B</option>
            <option value="c">Multi C</option>
          </select>
        </Select>
      </div>
    </div>
  </div>
</Layout>
