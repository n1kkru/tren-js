---
interface Props {
  class?: string
}

const { class: className, ...props } = Astro.props as Props

export { InputmaskExamples }
---

<section
  id="inputmask-examples"
  class:list={['inputmask-examples', className]}
  {...props}
>
  <div class="space-y-6 rounded-lg bg-gray-100 p-6">
    <h1 class="mb-4 text-2xl font-bold">Inputmask API</h1>
    <p class="mb-4 text-lg font-bold text-sky-600">Смотри консоль</p>

    <div class="space-y-6">
      <!-- window.frontApi.inputmask.init -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.inputmask.init()</h2>
        <p class="text-sm text-gray-600">Инициализирует все input с data-mask-phone.</p>
        <input
          type="tel"
          data-mask-phone
          placeholder="+7 (___) ___-__-__"
          class="mt-2 w-full rounded border px-3 py-2"
        />
        <button
          id="btn-init"
          class="mt-3 rounded bg-cyan-500 px-4 py-2 text-white"
          >Инициализировать</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>{`window.frontApi.inputmask.init()`}</code></pre>
      </div>

      <!-- window.frontApi.inputmask.reinit -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.inputmask.reinit()</h2>
        <p class="text-sm text-gray-600">
          Переинициализирует конкретное поле по селектору или DOM-элементу.
        </p>
        <input
          id="reinit-input"
          type="tel"
          data-mask-phone
          value="89123456789"
          class="mt-2 w-full rounded border px-3 py-2"
        />
        <button
          id="btn-reinit"
          class="mt-3 rounded bg-purple-600 px-4 py-2 text-white"
          >Переинициализировать</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>{`window.frontApi.inputmask.reinit('#reinit-input')`}</code></pre>
      </div>

      <!-- window.frontApi.inputmask.reinitAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.inputmask.reinitAll()</h2>
        <p class="text-sm text-gray-600">
          Переинициализирует все input'ы, уже инициализированные ранее.
        </p>
        <button
          id="btn-reinit-all"
          class="mt-2 rounded bg-rose-500 px-4 py-2 text-white"
          >Переинициализировать все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>{`window.frontApi.inputmask.reinitAll()`}</code></pre>
      </div>
    </div>
  </div>
</section>
