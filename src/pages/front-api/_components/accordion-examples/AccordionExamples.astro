---
import AccordionContainer from '@shared/ui/accordion/accordion-container/AccordionContainer.astro'
import Accordion from '@shared/ui/accordion/Accordion.astro'

interface Props {
  class?: string
}

const { class: className, ...props } = Astro.props as Props

export { AccordionExamples }
---

<section
  class:list={['accordions-examples', className]}
  {...props}
>
  <div class="space-y-6 rounded-lg bg-gray-100 p-6">
    <h1 class="mb-4 text-2xl font-bold">Accordion API</h1>
    <p class="mb-4 text-lg font-bold text-sky-600">Смотри консоль</p>

    <AccordionContainer
      class:list={['faq-accordions desktop:w-1/2', className]}
      id="accordion-container"
    >
      <Accordion
        title="Аккордеон 1"
        id="ac0"
      >
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Sapiente quia doloremque minima
          quos natus ullam praesentium hic, deserunt impedit sunt, eligendi vero maiores quis
          commodi illo culpa quisquam! Corrupti, quae!
        </p>
      </Accordion>
      <Accordion
        title="Аккордеон 2"
        id="ac1"
      >
        <p>
          Lorem ipsum dolor sit amet, consectetur adipisicing elit. Modi eveniet culpa neque facere
          accusamus eius? Excepturi assumenda ullam pariatur recusandae quae nulla sunt repellat,
          numquam vero, vel quam, eveniet porro!
        </p>
      </Accordion>
      <Accordion
        title="Аккордеон 3"
        id="ac2"
      >
        <p>
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae eius vitae iste unde
          quo dolorem commodi facere ab? Aut consequatur magni dolorum dolor unde alias voluptatem
          et eveniet temporibus ipsam!
        </p>
      </Accordion>
    </AccordionContainer>

    <div class="space-y-6">
      <!-- init -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.init()</h2>
        <p class="text-sm text-gray-600">Инициализирует аккордеон по селектору/элементу.</p>
        <button
          id="accordion-init"
          class="mt-2 rounded bg-indigo-500 px-4 py-2 text-white"
          >Пример вызова</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.init('[data-accordion-container]')</code></pre>
      </div>

      <!-- initAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.initAll()</h2>
        <p class="text-sm text-gray-600">Инициализирует все аккордеоны на странице.</p>
        <button
          id="accordion-init-all"
          class="mt-2 rounded bg-sky-600 px-4 py-2 text-white"
          >Инициализировать все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.initAll()</code></pre>
      </div>

      <!-- reinit -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.reinit()</h2>
        <p class="text-sm text-gray-600">Переинициализирует аккордеон по селектору/элементу.</p>
        <button
          id="accordion-reinit"
          class="mt-2 rounded bg-purple-600 px-4 py-2 text-white"
          >Пример вызова</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.reinit('[data-accordion-container]')</code></pre>
      </div>

      <!-- reinitAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.reinitAll()</h2>
        <p class="text-sm text-gray-600">Переинициализирует все аккордеоны на странице.</p>
        <button
          id="accordion-reinit-all"
          class="mt-2 rounded bg-indigo-600 px-4 py-2 text-white"
          >Переинициализировать все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.reinitAll()</code></pre>
      </div>

      <!-- open -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.open()</h2>
        <p class="text-sm text-gray-600">Открывает указанный аккордеон.</p>
        <div class="mt-2 grid grid-cols-3 gap-2">
          <button
            id="accordion-open-1"
            class="rounded bg-green-600 px-4 py-2 text-white"
            >ac0</button
          >
          <button
            id="accordion-open-2"
            class="rounded bg-green-600 px-4 py-2 text-white"
            >ac1</button
          >
          <button
            id="accordion-open-3"
            class="rounded bg-green-600 px-4 py-2 text-white"
            >ac2</button
          >
        </div>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.open('#ac0')</code></pre>
      </div>

      <!-- openAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.openAll()</h2>
        <p class="text-sm text-gray-600">Открывает все аккордеоны.</p>
        <button
          id="accordion-open-all"
          class="mt-2 rounded bg-green-600 px-4 py-2 text-white"
          >Открыть все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.openAll()</code></pre>
      </div>

      <!-- close -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.close()</h2>
        <p class="text-sm text-gray-600">Закрывает указанный аккордеон.</p>
        <div class="mt-2 grid grid-cols-3 gap-2">
          <button
            id="accordion-close-1"
            class="rounded bg-rose-500 px-4 py-2 text-white"
            >ac0</button
          >
          <button
            id="accordion-close-2"
            class="rounded bg-rose-500 px-4 py-2 text-white"
            >ac1</button
          >
          <button
            id="accordion-close-3"
            class="rounded bg-rose-500 px-4 py-2 text-white"
            >ac2</button
          >
        </div>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.close('#ac0')</code></pre>
      </div>

      <!-- closeAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.closeAll()</h2>
        <p class="text-sm text-gray-600">Закрывает все аккордеоны.</p>
        <button
          id="accordion-close-all"
          class="mt-2 rounded bg-rose-500 px-4 py-2 text-white"
          >Закрыть все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.closeAll()</code></pre>
      </div>

      <!-- getInstance -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.getInstance()</h2>
        <p class="text-sm text-gray-600">Получает инстанс аккордеона.</p>
        <button
          id="accordion-get-instance"
          class="mt-2 rounded bg-yellow-500 px-4 py-2 text-white"
        >
          Получить инстанс ac1
        </button>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.getInstance('#ac1')</code></pre>
      </div>

      <!-- getElementInstance -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.getElementInstance()</h2>
        <p class="text-sm text-gray-600">Получает инстанс элемента аккордеона.</p>
        <button
          id="accordion-get-element-instance"
          class="mt-2 rounded bg-yellow-500 px-4 py-2 text-white"
        >
          Получить элемент-инстанс ac1
        </button>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>window.frontApi.accordion.getElementInstance('#ac1')</code></pre>
      </div>

      <!-- on -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.on()</h2>
        <p class="text-sm text-gray-600">Подписка на события аккордеона.</p>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>{`window.frontApi.accordion.on('open', el => console.log('Opened:', el.dataset.accordion))
window.frontApi.accordion.on('close', el => console.log('Closed:', el.dataset.accordion))`}</code></pre>
      </div>

      <!-- off -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.accordion.off()</h2>
        <p class="text-sm text-gray-600">Отписка от событий аккордеона.</p>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800">
<code>{`window.frontApi.accordion.off('open', callback)
window.frontApi.accordion.off('close', callback)`}</code></pre>
      </div>
    </div>
  </div>
</section>

<!-- <script src="./accordion-examples.ts"></script> -->
