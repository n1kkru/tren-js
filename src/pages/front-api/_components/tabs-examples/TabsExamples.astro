---
// components/TabsExamples.astro
interface Props {
  class?: string
}

const { class: className, ...props } = Astro.props as Props
---

<section
  id="tabs-examples"
  class:list={['tabs-examples', className]}
  {...props}
>
  <div class="space-y-6 rounded-lg bg-gray-100 p-6">
    <h1 class="mb-4 text-2xl font-bold">Tabs API</h1>
    <p class="mb-4 text-lg font-bold text-sky-600">Смотри консоль</p>

    <div
      class="tabs"
      data-tabs="example-tabs"
    >
      <ul
        class="tabs-list"
        role="tablist"
      >
        <li>
          <button
            id="tab-1"
            class="tab active"
            role="tab"
            aria-selected="true"
            aria-controls="panel-1"
            >Tab 1</button
          >
        </li>
        <li>
          <button
            id="tab-2"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="panel-2"
            >Tab 2</button
          >
        </li>
        <li>
          <button
            id="tab-3"
            class="tab"
            role="tab"
            aria-selected="false"
            aria-controls="panel-3"
            >Tab 3</button
          >
        </li>
      </ul>

      <div
        id="panel-1"
        class="tab-panel active"
        role="tabpanel"
        aria-labelledby="tab-1"
      >
        Контент 1
      </div>
      <div
        id="panel-2"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-2"
      >
        Контент 2
      </div>
      <div
        id="panel-3"
        class="tab-panel"
        role="tabpanel"
        aria-labelledby="tab-3"
      >
        Контент 3
      </div>
    </div>

    <div class="space-y-6">
      <!-- window.frontApi.tabs.init -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.init()</h2>
        <p class="text-sm text-gray-600">Инициализирует табы по селектору/элементу.</p>
        <button
          id="tabs-init"
          class="mt-2 rounded bg-cyan-500 px-4 py-2 text-white"
          >Пример вызова</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>window.frontApi.tabs.init('[data-tabs="example-tabs"]')</code></pre>
      </div>

      <!-- window.frontApi.tabs.initAll -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.initAll()</h2>
        <p class="text-sm text-gray-600">Инициализирует все табы на странице по [data-tabs].</p>
        <button
          id="tabs-init-all"
          class="mt-2 rounded bg-sky-600 px-4 py-2 text-white"
          >Инициализировать все</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>window.frontApi.tabs.initAll()</code></pre>
      </div>

      <!-- window.frontApi.tabs.setActive -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.setActive()</h2>
        <p class="text-sm text-gray-600">Активирует таб по индексу, id или элементу.</p>
        <button
          id="tabs-set-active"
          class="mt-2 rounded bg-purple-600 px-4 py-2 text-white"
          >Активировать 2-й таб</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>window.frontApi.tabs.setActive('[data-tabs="example-tabs"]', 1)</code></pre>
      </div>

      <!-- window.frontApi.tabs.getActive -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.getActive()</h2>
        <p class="text-sm text-gray-600">Получает активный таб внутри группы.</p>
        <button
          id="tabs-get-active"
          class="mt-2 rounded bg-indigo-600 px-4 py-2 text-white"
          >Получить активный</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>window.frontApi.tabs.getActive('[data-tabs="example-tabs"]')</code></pre>
      </div>

      <!-- window.frontApi.tabs.reinit -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.reinit()</h2>
        <p class="text-sm text-gray-600">Переинициализирует табы с новыми опциями.</p>
        <button
          id="tabs-reinit"
          class="mt-2 rounded bg-yellow-500 px-4 py-2 text-white"
          >Переинициализировать</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>{`window.frontApi.tabs.reinit('[data-tabs="example-tabs"]', {\n  lazy: true\n})`}</code></pre>
      </div>

      <!-- window.frontApi.tabs.onAnyInit -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.onAnyInit()</h2>
        <p class="text-sm text-gray-600">Подписка на инициализацию любых табов.</p>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>window.frontApi.tabs.onAnyInit(t => console.log('[init]', t))</code></pre>
      </div>

      <!-- window.frontApi.tabs.onAnyChange -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.onAnyChange()</h2>
        <p class="text-sm text-gray-600">Подписка на переключение любых табов.</p>
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>{`window.frontApi.tabs.onAnyChange(({ activeTab }) => console.log('[change]', activeTab))`}</code></pre>
      </div>

      <!-- window.frontApi.tabs.instances -->
      <div class="rounded bg-white p-4 shadow">
        <h2 class="text-lg font-semibold">window.frontApi.tabs.instances</h2>
        <p class="text-sm text-gray-600">Получить все текущие инстансы табов.</p>
        <button
          id="tabs-log-instances"
          class="mt-2 rounded bg-gray-700 px-4 py-2 text-white"
          >Вывести в консоль</button
        >
        <pre
          class="mt-2 rounded bg-gray-100 p-3 text-sm text-gray-800"><code>console.log(window.frontApi.tabs.instances)</code></pre>
      </div>
    </div>
  </div>
</section>

<style>
  @import './tabs-examples.scss';
</style>
